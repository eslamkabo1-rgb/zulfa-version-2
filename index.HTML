<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>نظام محاسبة شركة التشطيبات</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-light">
<!-- Header مع اللوجو الجديد -->
<div class="company-header">
  <div class="container-fluid">
    <div class="row align-items-center justify-content-center">
      <div class="col-12 text-center">
        <div class="logo-container">
          <img src="OIP.jpg" alt="Zulfa Contracting" class="company-logo-img">
          <h2 class="company-name">Zulfa Contracting</h2>
          <p class="company-subtitle">تشطيبات شقق وعيادات</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Navbar -->
<nav class="navbar navbar-dark bg-transparent">
  <div class="container-fluid">
    <span class="navbar-brand mb-0 h1">لوحة التحكم</span>
  </div>
</nav>

<div class="container-fluid mt-3">
  <div class="row">
    <!-- القائمة الجانبية -->
    <div class="col-md-2 mb-3">
      <div class="list-group">
        <button class="list-group-item list-group-item-action active" data-page="dashboard">الملخص</button>
        <button class="list-group-item list-group-item-action" data-page="projects">المشاريع</button>
        <button class="list-group-item list-group-item-action" data-page="payments">مدفوعات العملاء</button>
        <button class="list-group-item list-group-item-action" data-page="invoices">الفواتير</button>
        <button class="list-group-item list-group-item-action" data-page="expenses">المصروفات</button>
        <button class="list-group-item list-group-item-action" data-page="loans">السلف الشخصية</button>
        <button class="list-group-item list-group-item-action" data-page="reports">التقارير التفصيلية</button>
        <button class="list-group-item list-group-item-action" data-page="pl">الأرباح والخسائر</button>
      </div>
    </div>

    <!-- منطقة المحتوى -->
    <div class="col-md-10">
      <!-- صفحة الملخص -->
      <div id="page-dashboard" class="page">
        <h4 class="mb-3">الملخص العام</h4>
        <div class="row g-3">
          <div class="col-md-3">
            <div class="card text-bg-success">
              <div class="card-body">
                <h6 class="card-title">إجمالي الإيرادات</h6>
                <h4 id="dash-total-income">0</h4>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card text-bg-danger">
              <div class="card-body">
                <h6 class="card-title">إجمالي المصروفات</h6>
                <h4 id="dash-total-expenses">0</h4>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card text-bg-primary">
              <div class="card-body">
                <h6 class="card-title">صافي الربح / الخسارة</h6>
                <h4 id="dash-net-profit">0</h4>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card text-bg-warning">
              <div class="card-body">
                <h6 class="card-title">السلف المتبقية</h6>
                <h4 id="dash-remaining-loans">0</h4>
              </div>
            </div>
          </div>
        </div>

        <hr class="my-4">

        <h5 class="mb-3">ملخص المشاريع</h5>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>المشروع</th>
              <th>إيرادات</th>
              <th>مصروفات</th>
              <th>صافي الربح</th>
            </tr>
          </thead>
          <tbody id="dash-projects-summary"></tbody>
        </table>
      </div>

      <!-- صفحة المشاريع -->
      <div id="page-projects" class="page d-none">
        <h4 class="mb-3">المشاريع</h4>
        <form id="project-form" class="row g-2 mb-3">
          <div class="col-md-3">
            <input type="text" class="form-control" id="project-client" placeholder="اسم العميل" required>
          </div>
          <div class="col-md-3">
            <input type="text" class="form-control" id="project-type" placeholder="نوع المشروع (شقة/عيادة)" required>
          </div>
          <div class="col-md-3">
            <input type="number" class="form-control" id="project-value" placeholder="قيمة التعاقد" required>
          </div>
          <div class="col-md-3">
            <input type="date" class="form-control" id="project-date" required>
          </div>
          <div class="col-12 mt-2">
            <button class="btn btn-success">إضافة مشروع</button>
          </div>
        </form>

        <table class="table table-striped">
          <thead>
            <tr>
              <th>الكود</th>
              <th>العميل</th>
              <th>نوع المشروع</th>
              <th>قيمة التعاقد</th>
              <th>مدفوع</th>
              <th>متبقي</th>
              <th>ربح/خسارة</th>
              <th>حذف</th>
            </tr>
          </thead>
          <tbody id="projects-table"></tbody>
        </table>
      </div>

      <!-- صفحة مدفوعات العملاء -->
      <div id="page-payments" class="page d-none">
        <h4 class="mb-3">مدفوعات العملاء</h4>
        <form id="payment-form" class="row g-2 mb-3">
          <div class="col-md-3">
            <select id="payment-project" class="form-select" required></select>
          </div>
          <div class="col-md-2">
            <input type="date" class="form-control" id="payment-date" required>
          </div>
          <div class="col-md-2">
            <input type="number" class="form-control" id="payment-amount" placeholder="المبلغ" required>
          </div>
          <div class="col-md-2">
            <select id="payment-method" class="form-select" required>
              <option value="كاش">كاش</option>
              <option value="قسط">قسط</option>
            </select>
          </div>
          <div class="col-md-3">
            <input type="text" class="form-control" id="payment-note" placeholder="ملاحظات">
          </div>
          <div class="col-12 mt-2">
            <button class="btn btn-success">إضافة دفعة</button>
          </div>
        </form>

        <table class="table table-striped">
          <thead>
            <tr>
              <th>المشروع</th>
              <th>التاريخ</th>
              <th>المبلغ</th>
              <th>الطريقة</th>
              <th>ملاحظات</th>
              <th>حذف</th>
            </tr>
          </thead>
          <tbody id="payments-table"></tbody>
        </table>
      </div>

      <!-- صفحة الفواتير -->
      <div id="page-invoices" class="page d-none">
        <h4 class="mb-3">الفواتير</h4>
        <form id="invoice-form" class="row g-2 mb-3">
          <div class="col-md-2">
            <select id="invoice-project" class="form-select" required></select>
          </div>
          <div class="col-md-2">
            <input type="date" class="form-control" id="invoice-date" required>
          </div>
          <div class="col-md-2">
            <input type="text" class="form-control" id="invoice-number" placeholder="رقم الفاتورة" required>
          </div>
          <div class="col-md-2">
            <input type="text" class="form-control" id="invoice-supplier" placeholder="اسم المورد" required>
          </div>
          <div class="col-md-2">
            <input type="number" class="form-control" id="invoice-amount" placeholder="المبلغ" required>
          </div>
          <div class="col-md-2">
            <input type="text" class="form-control" id="invoice-note" placeholder="ملاحظات">
          </div>
          <div class="col-12 mt-2">
            <button class="btn btn-primary">إضافة فاتورة</button>
          </div>
        </form>

        <table class="table table-striped">
          <thead>
            <tr>
              <th>المشروع</th>
              <th>التاريخ</th>
              <th>رقم الفاتورة</th>
              <th>المورد</th>
              <th>المبلغ</th>
              <th>ملاحظات</th>
              <th>حذف</th>
            </tr>
          </thead>
          <tbody id="invoices-table"></tbody>
        </table>
      </div>

      <!-- صفحة المصروفات -->
      <div id="page-expenses" class="page d-none">
        <h4 class="mb-3">المصروفات</h4>
        <form id="expense-form" class="row g-2 mb-3">
          <div class="col-md-3">
            <select id="expense-project" class="form-select">
              <option value="">مصروف عام (غير مرتبط بمشروع)</option>
            </select>
          </div>
          <div class="col-md-2">
            <input type="date" class="form-control" id="expense-date" required>
          </div>
          <div class="col-md-2">
            <input type="number" class="form-control" id="expense-amount" placeholder="المبلغ" required>
          </div>
          <div class="col-md-2">
            <select id="expense-type" class="form-select" required>
              <option value="رواتب عمال">رواتب عمال</option>
              <option value="مواد">مواد</option>
              <option value="معدات">معدات</option>
              <option value="نقل">نقل</option>
              <option value="أخرى">أخرى</option>
            </select>
          </div>
          <div class="col-md-3">
            <input type="text" class="form-control" id="expense-note" placeholder="ملاحظات">
          </div>
          <div class="col-12 mt-2">
            <button class="btn btn-danger">إضافة مصروف</button>
          </div>
        </form>

        <table class="table table-striped">
          <thead>
            <tr>
              <th>المشروع</th>
              <th>التاريخ</th>
              <th>المبلغ</th>
              <th>النوع</th>
              <th>ملاحظات</th>
              <th>حذف</th>
            </tr>
          </thead>
          <tbody id="expenses-table"></tbody>
        </table>
      </div>

      <!-- صفحة السلف الشخصية -->
      <div id="page-loans" class="page d-none">
        <h4 class="mb-3">السلف من الحساب الشخصي</h4>
        <form id="loan-form" class="row g-2 mb-3">
          <div class="col-md-3">
            <select id="loan-project" class="form-select">
              <option value="">عام</option>
            </select>
          </div>
          <div class="col-md-2">
            <input type="date" class="form-control" id="loan-date" required>
          </div>
          <div class="col-md-2">
            <input type="number" class="form-control" id="loan-amount" placeholder="المبلغ" required>
          </div>
          <div class="col-md-3">
            <input type="text" class="form-control" id="loan-reason" placeholder="السبب">
          </div>
          <div class="col-md-2">
            <select id="loan-status" class="form-select">
              <option value="لم يُسترد">لم يُسترد</option>
              <option value="استرد بالكامل">استرد بالكامل</option>
              <option value="استرد جزئياً">استرد جزئياً</option>
            </select>
          </div>
          <div class="col-12 mt-2">
            <button class="btn btn-warning">تسجيل سلفة</button>
          </div>
        </form>

        <table class="table table-striped">
          <thead>
            <tr>
              <th>المشروع</th>
              <th>التاريخ</th>
              <th>المبلغ</th>
              <th>السبب</th>
              <th>الحالة</th>
              <th>حذف</th>
            </tr>
          </thead>
          <tbody id="loans-table"></tbody>
        </table>
      </div>

      <!-- صفحة التقارير التفصيلية -->
      <div id="page-reports" class="page d-none">
        <h4 class="mb-3">التقارير التفصيلية</h4>
        
        <div class="mb-3">
          <label for="report-project" class="form-label">اختر مشروع:</label>
          <select id="report-project" class="form-select"></select>
        </div>

        <div id="report-content">
          <p class="text-muted">اختر مشروع لعرض التقرير التفصيلي</p>
        </div>
      </div>

      <!-- صفحة الأرباح والخسائر -->
      <div id="page-pl" class="page d-none">
        <h4 class="mb-3">تقرير الأرباح والخسائر</h4>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>المشروع</th>
              <th>الإيرادات</th>
              <th>المصروفات</th>
              <th>صافي الربح</th>
            </tr>
          </thead>
          <tbody id="pl-projects-table"></tbody>
        </table>

        <hr>

        <h5>الملخص العام</h5>
        <p>إجمالي الإيرادات: <span id="pl-total-income">0</span></p>
        <p>إجمالي المصروفات: <span id="pl-total-expenses">0</span></p>
        <p>صافي الربح/الخسارة: <span id="pl-net-profit">0</span></p>
      </div>
    </div>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>
